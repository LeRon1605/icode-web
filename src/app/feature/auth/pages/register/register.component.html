<div class="p-3 ms-2">
    <app-alert *ngIf="alertData.isNotification" [type]="alertData.type" [message]="alertData.message"></app-alert>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
            <input 
                type="email" 
                class="form-control" 
                [class]="{ 'is-invalid': registerForm.controls['email'].invalid && registerForm.controls['email'].touched}"
                placeholder="Địa chỉ email" 
                formControlName="email"
            >
            <div class="form-text text-danger" *ngIf="registerForm.controls['email'].hasError('required') && registerForm.controls['email'].touched">Địa chỉ email không được để trống.</div>
            <div class="form-text text-danger" *ngIf="registerForm.controls['email'].hasError('email') && registerForm.controls['email'].touched">Địa chỉ email không hợp lệ.</div>
        </div>
        <div class="mb-3">
            <input 
                type="text" 
                class="form-control" 
                [class]="{ 'is-invalid': registerForm.controls['username'].invalid && registerForm.controls['username'].touched }"
                lass="form-control" 
                placeholder="Tên đăng nhập" 
                formControlName="username"
            >
            <div class="form-text text-danger" *ngIf="registerForm.controls['username'].hasError('required') && registerForm.controls['username'].touched">
                Tên đăng nhập không được để trống.
            </div>
            <div class="form-text text-danger" *ngIf="(registerForm.controls['username'].hasError('minlength') || registerForm.controls['username'].hasError('maxlength')) && registerForm.controls['username'].touched">
                Tên đăng nhập có độ dài từ 6 - 16 kí tự.
            </div>
        </div>
        <div class="mb-3">
            <select 
                class="form-select" 
                formControlName="gender"
                [class]="{ 'is-invalid': registerForm.controls['gender'].invalid && registerForm.controls['gender'].touched }"
            >
                <option value="" selected>Giới tính</option>
                <option value="true">Nam</option>
                <option value="false">Nữ</option>
            </select>
            <div class="form-text text-danger" *ngIf="registerForm.controls['gender'].hasError('required') && registerForm.controls['gender'].touched">
                Vui lòng chọn giới tính.
            </div>
        </div>
        <div class="mb-3">
            <input 
                type="password" 
                class="form-control" 
                [class]="{ 'is-invalid': registerForm.controls['password'].invalid && registerForm.controls['password'].touched }"
                placeholder="Mật khẩu" 
                formControlName="password"
            >
            <div class="form-text text-danger" *ngIf="registerForm.controls['password'].hasError('required') && registerForm.controls['password'].touched">
                Mật khẩu không được để trống.
            </div>
            <div class="form-text text-danger" *ngIf="registerForm.controls['password'].hasError('minlength') && registerForm.controls['password'].touched">
                Mật khẩu có độ dài tối thiểu 8 kí tự.
            </div>
        </div>
        <div class="mb-3">
            <input 
                type="password" 
                class="form-control" 
                [class]="{ 'is-invalid': registerForm.controls['confirmPassword'].invalid && registerForm.controls['confirmPassword'].touched }"
                placeholder="Xác nhận mật khẩu" 
                formControlName="confirmPassword"
            >
            <div class="form-text text-danger" *ngIf="registerForm.controls['confirmPassword'].hasError('required') && registerForm.controls['confirmPassword'].touched">
                Mật khẩu xác nhận không được để trống.
            </div>
            <div class="form-text text-danger" *ngIf="registerForm.controls['confirmPassword'].hasError('compare') && registerForm.controls['confirmPassword'].touched">
                Mật khẩu xác nhận không chính xác.
            </div>
        </div>
        <div class="mb-2 form-check">
            <input class="form-check-input" type="checkbox" id="allowNotification" formControlName="allowNotification">
            <label class="form-check-label" for="allowNotification">
                Cho phép gửi thông báo
            </label>
          </div>
        <div class="mb-2 d-flex flex-column">
            <a href="" class="text-decoration-none">Quên mật khẩu</a>
            <span>Đã có tài khoản? <a class="text-decoration-none" [routerLink]="['/auth/login']">Đăng nhập ngay</a></span>
        </div>
        <button type="submit" class="btn btn-primary col-12" [disabled]="!registerForm.valid">Đăng kí</button>
    </form>
</div>